<nav class="navbar">
  <div class="navbar-container">

    <!-- âš¡ Logo -->
    <a [routerLink]="['/tienda']" class="navbar-logo" aria-label="Inicio">
      âš¡ ElectroTienda
    </a>

    <!-- ğŸ” Buscador -->
    <div class="navbar-search">
      <app-search-bar></app-search-bar>
    </div>

    <!-- ğŸ› ï¸ Acciones -->
    <div class="navbar-actions">

      <!-- ğŸ›’ Carrito -->
      <a [routerLink]="['/user/checkout/cart']" class="navbar-cart" aria-label="Carrito">
        ğŸ›’
        <span *ngIf="itemsCount() > 0" class="cart-badge">{{ itemsCount() }}</span>
      </a>

      <!-- ğŸ‘¤ Usuario logueado -->
      <ng-container *ngIf="isLoggedIn(); else guestLinks">
        <span class="navbar-user" aria-label="Usuario actual">ğŸ‘¤ {{ username() }}</span>
        <a [routerLink]="['/user/perfil']" aria-label="Perfil">Perfil</a>
        <a [routerLink]="['/user/pedidos']" aria-label="Mis pedidos">ğŸ§¾ Pedidos</a>

        <!-- âœ… Solo visible para ADMIN -->
        <a
          *ngIf="role() === 'ADMIN'"
          [routerLink]="['/admin']"
          class="navbar-admin"
          aria-label="Panel de administraciÃ³n"
        >
          âš™ï¸ Panel Admin
        </a>

        <button class="btn-logout" (click)="logout()" aria-label="Cerrar sesiÃ³n">Salir</button>
      </ng-container>

      <!-- ğŸ” Invitado -->
      <ng-template #guestLinks>
        <a [routerLink]="['/login']" aria-label="Iniciar sesiÃ³n">Iniciar sesiÃ³n</a>
        <a [routerLink]="['/register']" aria-label="Registrarse">Registrarse</a>
      </ng-template>

    </div>
  </div>
</nav>
